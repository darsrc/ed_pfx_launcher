; ============================================================
; ed_pfx_launcher.ini
; Shareable configuration for ed_pfx_launcher.sh
; ============================================================

[steam]
; Elite Dangerous (base game) AppID
appid=359320

; Optional overrides (auto-detection usually works on native installs)
; steam_root={home}/.local/share/Steam
; compatdata_dir={steam_root}/steamapps/compatdata/{appid}
; runtime_client={steam_root}/steamapps/common/SteamLinuxRuntime_sniper/pressure-vessel/bin/steam-runtime-launch-client

[proton]
; Optional: explicit Proton binary
; proton={home}/.steam/steam/compatibilitytools.d/GE-Proton10-32/proton

[detection]
; Timeout for launcher detection (seconds)
launcher_timeout=120

; Timeout for game detection after launcher is seen (seconds)
game_timeout=120

[edcopilot]
; Master enable
enabled=true

; Path to EDCoPilot launcher executable
; exe={prefix}/drive_c/EDCoPilot/LaunchEDCoPilot.exe

; Preferred launch mode for deterministic behavior:
; runtime: require runtime launch path (recommended)
; auto: compatibility mode (legacy behavior)
; wine: force Proton run
mode=runtime

; Delay before launching EDCoPilot (seconds)
startup_delay=30

; How long to wait for runtime/client evidence before mode resolution (seconds)
bus_wait=30

; How long to wait for EDCoPilotGUI2.exe after launch (seconds)
init_timeout=45

; During shutdown, after writing EDCoPilot.request.txt=Shutdown,
; wait this many seconds for EDCoPilot processes to exit naturally.
graceful_shutdown_timeout=15

; ---- Deprecated keys (compatibility read-only for one release cycle) ----
; delay=30                    ; DEPRECATED -> use startup_delay
; shutdown_timeout=15         ; DEPRECATED -> use graceful_shutdown_timeout

; Existing optional compatibility settings
force_kill_timeout=5
allow_proton_fallback=false
force_linux_flag=true

; Prefer relative path inside prefix if exe is unset
exe_rel=drive_c/EDCoPilot/LaunchEDCoPilot.exe

[shutdown]
; Monitor target controls lifecycle trigger point:
; launcher|game
monitor_target=game

; If true, run wineserver cleanup sequence (-k then -w)
wineserver_cleanup=false

; ---- Deprecated keys (compatibility read-only for one release cycle) ----
; [wine] wineserver_kill_on_shutdown=true ; DEPRECATED -> shutdown.wineserver_cleanup

[elite]
; MinEdLauncher-only policy:
; this script always launches MinEdLauncher.exe and will not run EDLaunch.exe.
; Optional: explicit path if MinEdLauncher.exe is somewhere unusual.
; Launcher selection policy:
; mined (default): use MinEdLauncher.exe (recommended for Linux setups)
; mined: force MinEdLauncher.exe
; auto: try EDLaunch.exe, fallback to MinEdLauncher.exe
launcher_preference=mined

; Optional: explicit launcher paths if your install is non-standard
; edlaunch_exe=/run/media/you/1TB/Games/EliteDangerous/EDLaunch.exe
; mined_exe=/run/media/you/1TB/Games/EliteDangerous/MinEdLauncher.exe

[edcopter]
; Optional: disabled by default for shareability
enabled=false
shutdown_timeout=5
; exe_rel=drive_c/Program Files/EDCoPTER/EDCoPTER.exe

[wine]
; DEPRECATED (compatibility-only): use [shutdown] wineserver_cleanup.
; wineserver_kill_on_shutdown=false
; wineserver_wait_on_shutdown=false
